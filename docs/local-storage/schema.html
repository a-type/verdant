<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-local-storage/schema">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Schema | Verdant</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:url" content="https://verdant.dev/docs/local-storage/schema"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:title" content="verdant"><meta data-rh="true" name="twitter:description" content="a framework for small, sustainable, human apps"><meta data-rh="true" name="twitter:image" content="https://verdant.dev/opengraph.png"><meta data-rh="true" name="og:image" content="https://verdant.dev/opengraph.png"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Schema | Verdant"><meta data-rh="true" name="description" content="Why have a schema?"><meta data-rh="true" property="og:description" content="Why have a schema?"><link data-rh="true" rel="icon" href="/favicon.ico"><link data-rh="true" rel="canonical" href="https://verdant.dev/docs/local-storage/schema"><link data-rh="true" rel="alternate" href="https://verdant.dev/docs/local-storage/schema" hreflang="en"><link data-rh="true" rel="alternate" href="https://verdant.dev/docs/local-storage/schema" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Verdant RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Verdant Atom Feed"><link rel="stylesheet" href="/assets/css/styles.be541540.css">
<link rel="preload" href="/assets/js/runtime~main.daa62cb3.js" as="script">
<link rel="preload" href="/assets/js/main.14e71cf5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_eIEi">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/favicon-32x32.png" alt="Verdant logo" class="themedImage_beWv themedImage--light_exrc"><img src="/favicon-32x32.png" alt="Verdant logo" class="themedImage_beWv themedImage--dark_pILn"></div><b class="navbar__title text--truncate">Verdant</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/a-type/verdant" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xFd0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_HUOJ colorModeToggle_o5Lg"><button class="clean-btn toggleButton_gW0E toggleButtonDisabled_I930" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_yIZj"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon__Orw"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_VRWN"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_VBNG docsWrapper_LBdX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_UAI6" type="button"></button><div class="docPage_KkIF"><aside class="theme-doc-sidebar-container docSidebarContainer_F0G2"><div class="sidebar_vI3c"><nav class="menu thin-scrollbar menu_FXTG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Intro to Verdant</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/manifesto">The Verdant manifesto on sustainable software</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/storing--querying">Storing &amp; Querying</a><button aria-label="Toggle the collapsible sidebar category &#x27;Storing &amp; Querying&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/local-storage/schema">Schema</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/local-storage/generate-client">Generating the client code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/local-storage/migrations">Migrations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/local-storage/querying">Indexes &amp; Querying</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/local-storage/entities">Documents &amp; Entities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/local-storage/undo">Undo, Redo, and Batching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/local-storage/files">File storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/local-storage/export">Exporting and importing data</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/sync">Sync</a><button aria-label="Toggle the collapsible sidebar category &#x27;Sync&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cli">CLI</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/react-bindings">React Bindings</a><button aria-label="Toggle the collapsible sidebar category &#x27;React Bindings&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/how-it-works">How it works</a><button aria-label="Toggle the collapsible sidebar category &#x27;How it works&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/comparisons">Comparisons to other local-first tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/efficiency">Efficiency &amp; Performance</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/tutorials">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_QByR"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_ZJLC"><div class="docItemContainer_zSnL"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_KjbN" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_TXuR"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/storing--querying"><span itemprop="name">Storing &amp; Querying</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Schema</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_mgR6 theme-doc-toc-mobile tocMobile_HGI4"><button type="button" class="clean-btn tocCollapsibleButton_cxuZ">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Schema</h1><h2 class="anchor anchorWithStickyNavbar_xOZl" id="why-have-a-schema">Why have a schema?<a class="hash-link" href="#why-have-a-schema" title="Direct link to heading">​</a></h2><p>Verdant requires all data be defined in a schema. That may seem cumbersome, but knowing what data looks like is essential to changing the shape of that data over time as your app evolves. Data lives on user devices, not your servers, so getting migrations right is very important<!-- -->—<!-- -->data loss or corruption can be unrecoverable, and no backups exist.</p><p>Take the time to think about how you model your data and define it in your schema. Mistakes in local-first apps are costly!</p><h2 class="anchor anchorWithStickyNavbar_xOZl" id="creating-a-schema">Creating a schema<a class="hash-link" href="#creating-a-schema" title="Direct link to heading">​</a></h2><p>The first step client-side is to define a schema of what kind of documents you are working with. A schema looks like this:</p><div class="language-ts codeBlockContainer_O3ds theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Nb2v"><pre tabindex="0" class="prism-code language-ts codeBlock_OTj6 thin-scrollbar"><code class="codeBlockLines_RheW"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> collection</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> schema </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@verdant-web/store&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> todoItems </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;todoItem&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// your primary key must be a field in your collection,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// and you must not rewrite it after creating a document.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    primaryKey</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;id&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fields</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;string&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            indexed</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            unique</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        details</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;string&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            indexed</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            unique</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        done</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;boolean&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    indexes</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    compounds</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">schema</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    version</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    collections</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        todoItems</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> todoItems</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_euy6"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_nqra" aria-hidden="true"><svg class="copyButtonIcon_TBKK" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_igq5" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This schema creates 1 document type, <code>todoItem</code>, and defines some fields. It also creates the initial default migration to set up this schema in IndexedDB.</p><p>The TypeScript types for <code>collection</code> should enforce proper schema shape, but the docs below explain what each part means.</p><blockquote><p>Note: for now I recommend you define collections at the top level, like shown above, or even split them into their own modules. There&#x27;s a problem with TypeScript typings if you define collections inline inside <code>schema()</code>.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_xOZl" id="requirements-for-a-schema">Requirements for a schema<a class="hash-link" href="#requirements-for-a-schema" title="Direct link to heading">​</a></h3><p>Each schema needs a <code>version</code>. Whenever a change is made to the schema, the version must be incremented. Otherwise, Verdant will crash with an error.</p><p>Schemas also have a map of <code>collections</code>. These define what kinds of documents are stored in your database.</p><p>Your schema can be multiple files, but the entry file (which you provide to the CLI) must have a default export which is a <code>schema()</code>.</p><h3 class="anchor anchorWithStickyNavbar_xOZl" id="requirements-for-a-collection">Requirements for a collection<a class="hash-link" href="#requirements-for-a-collection" title="Direct link to heading">​</a></h3><p>Each collection needs the following:</p><ul><li><code>name</code>: a singular name for the collection.</li><li><code>primaryKey</code>: specify which field name acts as the primary document key. Must be a string or number field.</li><li><code>fields</code>: a map of root fields on the document. See below.</li></ul><p>Additionally, you can add complex indexes for querying the collection:</p><ul><li><code>indexes</code>: freeform indexes which process the document into one indexed value (or an array of values) whenever it changes.</li><li><code>compounds</code>: multi-value indexes which let you query multiple field values at once. Advanced feature.</li></ul><p>See more on indexes <a href="/docs/local-storage/querying">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_xOZl" id="types-of-fields">Types of fields<a class="hash-link" href="#types-of-fields" title="Direct link to heading">​</a></h2><p>Here&#x27;s a list of field <code>type</code>s you can use in a collection, and their related options.</p><h3 class="anchor anchorWithStickyNavbar_xOZl" id="string"><code>&#x27;string&#x27;</code><a class="hash-link" href="#string" title="Direct link to heading">​</a></h3><p>Defines a string field, as you&#x27;d expect.</p><p>Other options:</p><ul><li><code>nullable: true</code>: allows <code>null</code> as a valid value for this field.</li><li><code>default: string | (() =&gt; string)</code>: define a default value, or a function that returns a default value at create time.</li></ul><h3 class="anchor anchorWithStickyNavbar_xOZl" id="number"><code>&#x27;number&#x27;</code><a class="hash-link" href="#number" title="Direct link to heading">​</a></h3><p>Defines a number field, as you&#x27;d expect.</p><p>Other options:</p><ul><li><code>nullable: true</code>: allows <code>null</code> as a valid value for this field.</li><li><code>default: number | (() =&gt; number)</code>: define a default value, or a function that returns a default value at create time.</li></ul><h3 class="anchor anchorWithStickyNavbar_xOZl" id="boolean"><code>&#x27;boolean&#x27;</code><a class="hash-link" href="#boolean" title="Direct link to heading">​</a></h3><p>Defines a boolean field, as you&#x27;d expect.</p><p>Other options:</p><ul><li><code>nullable: true</code>: allows <code>null</code> as a valid value for this field.</li><li><code>default: boolean | (() =&gt; boolean)</code>: define a default value, or a function that returns a default value at create time.</li></ul><h3 class="anchor anchorWithStickyNavbar_xOZl" id="array"><code>&#x27;array&#x27;</code><a class="hash-link" href="#array" title="Direct link to heading">​</a></h3><p>Defines an array/list field. These can also act as sets. Arrays always default to empty.</p><p>Other options:</p><ul><li><code>items: FieldSchema</code>: a nested field schema definition which defines what each item in the array looks like.</li><li><code>nullable: true</code>: allows <code>null</code> as a valid value for this field.</li></ul><h3 class="anchor anchorWithStickyNavbar_xOZl" id="object"><code>&#x27;object&#x27;</code><a class="hash-link" href="#object" title="Direct link to heading">​</a></h3><p>Defines an object/record field. Objects always default to empty. Objects have statically-defined keys, each of which can have its own unique sub-schema. For maps where keys aren&#x27;t known until runtime, see <code>&#x27;map&#x27;</code>.</p><p>Other options:</p><ul><li><code>properties: { [Key: string]: FieldSchema }</code>: an object of key-&gt;value pairs, where values are nested field schema definitions which defines what kind of data exists on that key.</li><li><code>nullable: true</code>: allows <code>null</code> as a valid value for this field.</li></ul><h3 class="anchor anchorWithStickyNavbar_xOZl" id="map"><code>&#x27;map&#x27;</code><a class="hash-link" href="#map" title="Direct link to heading">​</a></h3><p>Defines a key-value map field, where keys are arbitrary and added at runtime, and values are given a known schema. Maps are never nullable and default empty.</p><p>Other options:</p><ul><li><code>values: FieldSchema</code>: defines the sub-schema for values in the map.</li></ul><h3 class="anchor anchorWithStickyNavbar_xOZl" id="file"><code>&#x27;file&#x27;</code><a class="hash-link" href="#file" title="Direct link to heading">​</a></h3><p>Defines a file field, which stores a file.</p><p>Other options:</p><ul><li><code>nullable: true</code>: allows <code>null</code> as a valid value for this field.</li><li><code>downloadRemote: true</code>: instructs the client to download and store file fields which are synced from other devices. By default, the client will instead load the file over the network. Using this is a tradeoff which enables offline file usage, but increases storage use.</li></ul><h3 class="anchor anchorWithStickyNavbar_xOZl" id="any"><code>&#x27;any&#x27;</code><a class="hash-link" href="#any" title="Direct link to heading">​</a></h3><p>Opts out of schema checking for a field. An <code>any</code> field can have nested data and can be used just like any other field, but no TypeScript types will be applied, and no runtime validation will occur (note: runtime validation doesn&#x27;t currently exist, anyway...)</p><p>Other options:</p><ul><li><code>default: any | (() =&gt; any)</code>: define a default value for this field</li></ul><h2 class="anchor anchorWithStickyNavbar_xOZl" id="indexing-fields">Indexing Fields<a class="hash-link" href="#indexing-fields" title="Direct link to heading">​</a></h2><p>Indexes are vital to querying documents based on something other than primary key. If you&#x27;re used to SQL or other systems with advanced query languages, it make take some effort to adjust to an index-centric system like Verdant.</p><p>Verdant&#x27;s &quot;after-the-fact&quot; querying is actually quite constrained. It can only match against exact index values, or simple logic like &quot;greater than&quot; or &quot;less than.&quot; You cannot, for example, query for posts whose title contains the word &quot;local,&quot; <em>unless</em> you define an index which lets you do that &quot;ahead-of-time&quot; in your schema.</p><p>This means it&#x27;s easiest to keep your schema WIP until you&#x27;ve explored your application&#x27;s logic domain enough to determine what kinds of queries you will need to make to provide functionality. You don&#x27;t have to use the WIP feature, but each addition of a new index will require a schema revision if you don&#x27;t. I find the easiest workflow is to start in WIP, build out functionality, determine what indexes to create, add them to the schema, and then finalize the schema.</p><p>For more information on how indexes work and how to define them, see <a href="/docs/local-storage/querying#indexes">the indexes section of query docs</a>.</p><h2 class="anchor anchorWithStickyNavbar_xOZl" id="recursive-fields">Recursive Fields<a class="hash-link" href="#recursive-fields" title="Direct link to heading">​</a></h2><p>It is currently possible to create recursive field schemas. Support is still experimental and the syntax for doing so is rather tedious, but once done, fields should be properly typed and validated.</p><p>To define recursive schema structures, you must first define a &#x27;base&#x27; schema field assigned to a variable, then modify that field to assign its own reference to one of its nested structures. This two-step process is necessary because otherwise we&#x27;d encounter a &quot;used before it was defined&quot; type of error.</p><div class="language-ts codeBlockContainer_O3ds theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Nb2v"><pre tabindex="0" class="prism-code language-ts codeBlock_OTj6 thin-scrollbar"><code class="codeBlockLines_RheW"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> contentBase </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> schema</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fields</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// NOTE: it doesn&#x27;t matter what you put here, as this will be replaced</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// with the proceeding use of replaceObjectFields</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fields</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// a manual typing of the field is required as Typescript cannot</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// infer recursive types. These &quot;Storage__FieldSchema&quot; types can all be</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// imported from &#x27;@verdant-web/store&#x27;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">NestedContentFieldSchema</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> StorageObjectFieldSchema</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> StorageStringFieldSchema</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    content</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> StorageArrayFieldSchema</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">NestedContentFieldSchema</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> nestedContent</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> NestedContentFieldSchema </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    schema</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fields</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">replaceObjectFields</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">contentBase</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        content</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> schema</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fields</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// our recursive reference. use the original &#x27;base&#x27; variable.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            items</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> contentBase</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// other fields should be added here as well.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> schema</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fields</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// you can now assign `nestedContent` to a collection field in your schema.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> post </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> schema</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;post&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    primaryKey</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;id&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fields</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> schema</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fields</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">id</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        body</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> nestedContent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_euy6"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_nqra" aria-hidden="true"><svg class="copyButtonIcon_TBKK" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_igq5" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The call to <code>replaceObjectFields</code> reassigns the <code>fields</code> of the object field schema and updates the typing to reflect the recursion. The returned schema from this function has an <code>any</code> applied type; you must manually typecast the returned variable using a custom defined field schema type as shown (Typescript cannot infer this for you).</p><p>Once this is done, typings should still work when accessing recursive fields for index computation, and the CLI should generate appropriately defined named types for fields. For example, from the above code, a named alias type for <code>PostBodyContent</code> would be created which would be defined as <code>PostBody[]</code>.</p><h3 class="anchor anchorWithStickyNavbar_xOZl" id="available-replace-field-helpers-for-recursion">Available <code>replace</code> field helpers for recursion<a class="hash-link" href="#available-replace-field-helpers-for-recursion" title="Direct link to heading">​</a></h3><p>Helpers are available not just for object fields, but all field types which nest and can therefore produce recursion:</p><ul><li><code>replaceObjectFields(objSchema, newFieldsSchema)</code></li><li><code>replaceArrayItems(arraySchema, newItemSchema)</code></li><li><code>replaceMapValues(mapSchema, newValueSchema)</code></li></ul><h3 class="anchor anchorWithStickyNavbar_xOZl" id="limitations">Limitations<a class="hash-link" href="#limitations" title="Direct link to heading">​</a></h3><p>You must not reuse a recursive field schema for multiple fields! When detecting cyclical references in the schema, only the first reference is captured as &#x27;canonical,&#x27; so multiple reuses will all point to the first detected use. This will result in odd or incorrect generated typings from the CLI.</p><p>Instead, you must define each recursive field schema as a separate declaration. If you want identical field schemas for multiple fields, consider making a helper function which constructs your recursive field structure and then calling that multiple times to assign to new variables.</p><div class="language-ts codeBlockContainer_O3ds theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Nb2v"><pre tabindex="0" class="prism-code language-ts codeBlock_OTj6 thin-scrollbar"><code class="codeBlockLines_RheW"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> postBody </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">makeNestedContentField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> commentBody </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">makeNestedContentField</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_euy6"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_nqra" aria-hidden="true"><svg class="copyButtonIcon_TBKK" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_igq5" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_xOZl" id="troubleshooting-recursive-fields">Troubleshooting recursive fields<a class="hash-link" href="#troubleshooting-recursive-fields" title="Direct link to heading">​</a></h3><ul><li>When referencing a recursive field in <code>indexes</code> in my schema, I get <code>Type instantiation is excessively deep and possibly infinite</code>: You probably forgot to assign a manually crafted field schema type to the returned value of <code>replaceObjectFields</code>/<code>replaceArrayItems</code>/<code>replaceMapValues</code>.</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/category/storing--querying"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Storing &amp; Querying</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/local-storage/generate-client"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Generating the client code</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_Vsyg thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-have-a-schema" class="table-of-contents__link toc-highlight">Why have a schema?</a></li><li><a href="#creating-a-schema" class="table-of-contents__link toc-highlight">Creating a schema</a><ul><li><a href="#requirements-for-a-schema" class="table-of-contents__link toc-highlight">Requirements for a schema</a></li><li><a href="#requirements-for-a-collection" class="table-of-contents__link toc-highlight">Requirements for a collection</a></li></ul></li><li><a href="#types-of-fields" class="table-of-contents__link toc-highlight">Types of fields</a><ul><li><a href="#string" class="table-of-contents__link toc-highlight"><code>&#39;string&#39;</code></a></li><li><a href="#number" class="table-of-contents__link toc-highlight"><code>&#39;number&#39;</code></a></li><li><a href="#boolean" class="table-of-contents__link toc-highlight"><code>&#39;boolean&#39;</code></a></li><li><a href="#array" class="table-of-contents__link toc-highlight"><code>&#39;array&#39;</code></a></li><li><a href="#object" class="table-of-contents__link toc-highlight"><code>&#39;object&#39;</code></a></li><li><a href="#map" class="table-of-contents__link toc-highlight"><code>&#39;map&#39;</code></a></li><li><a href="#file" class="table-of-contents__link toc-highlight"><code>&#39;file&#39;</code></a></li><li><a href="#any" class="table-of-contents__link toc-highlight"><code>&#39;any&#39;</code></a></li></ul></li><li><a href="#indexing-fields" class="table-of-contents__link toc-highlight">Indexing Fields</a></li><li><a href="#recursive-fields" class="table-of-contents__link toc-highlight">Recursive Fields</a><ul><li><a href="#available-replace-field-helpers-for-recursion" class="table-of-contents__link toc-highlight">Available <code>replace</code> field helpers for recursion</a></li><li><a href="#limitations" class="table-of-contents__link toc-highlight">Limitations</a></li><li><a href="#troubleshooting-recursive-fields" class="table-of-contents__link toc-highlight">Troubleshooting recursive fields</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/a-type/verdant" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_xFd0"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gfor.rest" target="_blank" rel="noopener noreferrer" class="footer__link-item">Who made this?</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Grant Forrest. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.daa62cb3.js"></script>
<script src="/assets/js/main.14e71cf5.js"></script>
</body>
</html>